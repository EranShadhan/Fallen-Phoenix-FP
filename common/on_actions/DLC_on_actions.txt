on_actions = {

	on_startup = {
		effect = {
			every_country = {	
				limit = {
					OR = {
						original_tag = URG
						original_tag = BRA
						original_tag = PAR
						original_tag = CHL
						original_tag = BOL
						original_tag = ARG
						original_tag = PRU
						original_tag = VEN
						original_tag = ECU
						original_tag = COL
						
					}
				}

				add_ai_strategy = { 
					type = alliance 
					id = JAP
					value = -250
				}

				add_ai_strategy = { 
					type = alliance 
					id = CHI
					value = -250
				}

				add_ai_strategy = { 
					type = alliance 
					id = PRC
					value = -250
				}

				add_ai_strategy = { 
					type = alliance 
					id = USA
					value = -15
				}

				add_ai_strategy = { 
					type = alliance 
					id = GER
					value = -15
				}

				add_ai_strategy = { 
					type = alliance 
					id = ENG
					value = -15
				}

				add_ai_strategy = { 
					type = alliance 
					id = SOV
					value = -50
				}
			}
		}
		effect = {
			#Monroe Doctrine
			every_country = {
				limit = {
					has_global_flag = monroe_doctrine
					NOT = {
						tag = USA
					}
				}
				add_ideas = USA_monroe_doctrine_idea
			}
		}
	}

	#ROOT = attacking side
	#FROM = defending side
	on_declare_war = {
		effect = {
			IF = {
				limit = {
					NOT = {
						OR = {
							ROOT = {
								tag = USA
							}
							FROM = {
								tag = USA
							}
						}
					}
					USA = {
						exists = yes
						has_idea = USA_monroe_doctrine_enforcer
						NOT = {
							OR = { 
								has_war_with = FROM
								has_war_with = ROOT
								is_in_faction_with = ROOT
								is_in_faction_with = FROM
							}
						}
					}
					FROM = {
						has_idea = USA_monroe_doctrine_idea
						is_in_faction = no
					}
				}
				# Both countries are in Americas
				IF = {
					limit = {
						ROOT = {
							has_idea = USA_monroe_doctrine_idea
						}
					}
					# Do Nothing for now, may add more content here in future!
				}
				# Only defender is in Americas
				ELSE = {
					FROM = {
						USA = {
							set_variable = { monroe_defender = PREV }
							country_event = {
								id = south_american_events.50
								days = 1
							}
						}
					}
				}
			}
		}
	}	

	on_liberate = {
		effect = {
			USA_add_monroe_doctrine_to_target = yes
		}
	}
	
	#Root is exile
	#From is new host
	#FromFrom is old host
	on_host_changed_from_capitulation = {
		effect = {
			#Transfer exile leaders to new host
			From.From = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					set_nationality = Root.From
				}
			}
		}
	}

	#Root is exile
	#From is old host 
	on_exile_government_reinstated = {
		effect = {
			From = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					set_nationality = Root
				}
			}
			Root = {
				every_army_leader = {
					limit = { is_exiled_leader_from = Root }
					remove_unit_leader_trait = exiled_leader
					remove_exile_tag = yes
				}
			}
		}
	}

	on_unit_leader_created = {
		effect = {
			if = {
				limit = { is_exiled_leader = yes }
				From.From = { save_event_target_as = exile_nation }
				add_unit_leader_trait = exiled_leader
				
				add_random_trait = {
					old_guard
					brilliant_strategist
					inflexible_strategist
					war_hero
					trait_cautious
					trait_reckless
					media_personality
					harsh_leader
					infantry_officer
					cavalry_officer
					armor_officer
				}

				add_random_trait = {
					organizer
					panzer_leader
					cavalry_leader
					trait_engineer
					infantry_leader
					naval_invader						
					commando
					skilled_staffer
					trickster					
				}

				unit_leader_event = { id = mtg_exile_leader_added.1 }
			}
		}
	}

}
